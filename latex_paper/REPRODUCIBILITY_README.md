# Reproducibility Package - Gaulossen Acoustic Monitoring Study

This folder contains all materials needed to reproduce the analysis and compile the academic paper "Automated Acoustic Monitoring of Avian Biodiversity at Gaulosen Nature Reserve."

## Folder Structure

```
latex_paper/
├── gaulossen_paper.tex          # Main LaTeX document
├── gaulossen_paper.pdf           # Compiled PDF (generated)
├── gaulossen_paper.bbl           # Bibliography (generated by bibtex)
├── gaulossen_paper.aux           # Auxiliary file (generated)
├── gaulossen_paper.log           # Compilation log (generated)
├── gaulossen_paper.out           # Hyperref output (generated)
│
├── pre_processed/                # Original audio clips from field deployment
│   ├── 2025-10-13_11h37m_Graylag_Goose_17643s_conf0991.wav
│   ├── 2025-10-13_11h37m_Great_Snipe_20418s_conf0957.wav
│   ├── 2025-10-13_11h37m_Great_Snipe_31848s_conf0957.wav
│   ├── 2025-10-14_00h00m_Carrion_Crow_27471s_conf0757.wav
│   └── 2025-10-13_11h37m_Common_Crane_11907s_conf0283.wav
│
├── post_processed/               # Processed outputs
│   ├── audio_enhanced/          # Audio after Wiener filtering + HPSS
│   │   ├── 2025-10-13_11h37m_Graylag_Goose_17643s_conf0991.wav
│   │   └── 2025-10-13_11h37m_Great_Snipe_20418s_conf0481.wav
│   │
│   └── spectrograms/            # Generated spectrograms for figures
│       ├── spectrogram_graylag.png          # Graylag Goose contact call
│       ├── spectrogram_snipe.png            # Great Snipe migration call
│       ├── spectrogram_woodcock.png         # Eurasian Woodcock roding call
│       ├── spectrogram_crow.png             # Hooded Crow alarm call
│       ├── temporal_distribution.png        # Hourly detection patterns
│       └── cooccurrence_network.png         # Species co-occurrence network
│
├── figures/                     # Symlink or copy of post_processed/spectrograms/
│   └── (same PNG files as above for LaTeX inclusion)
│
├── field photos/                # Field deployment documentation
│   ├── 01_wetland_landscape_mountains.jpg
│   ├── 03_deployment_location_fence.jpg
│   ├── 06_geese_flight_formation.jpg
│   └── 07_wetland_waterfowl_dramatic.jpg
│
└── REPRODUCIBILITY_README.md    # This file
```

## Data Processing Pipeline

### 1. Pre-processed Audio (pre_processed/)
- **Source**: 48.8 hours continuous AudioMoth recording (48 kHz, 16-bit WAV)
- **Selection Criteria**: Best examples per species (highest confidence detections from BirdNET v2.4)
- **Naming Convention**: `YYYY-MM-DD_HHhMMm_SpeciesName_StartTimeSeconds_confXXXX.wav`
- **Example**: `2025-10-13_11h37m_Graylag_Goose_17643s_conf0991.wav`
  - Detected at 17,643 seconds (4h54m03s) into recording
  - Confidence: 0.991 (99.1%)

### 2. Post-processed Audio (post_processed/audio_enhanced/)
- **Processing Steps**:
  1. **Wiener Filtering**: Adaptive noise suppression targeting 2-6 kHz rain noise
  2. **HPSS (Harmonic-Percussive Source Separation)**: Librosa implementation with margin=3.0
     - Harmonic component: Bird vocalizations (tonal, sustained)
     - Percussive component: Rain impacts (transient, broadband)
  3. **SNR Improvement**: Average 8.2 dB increase (measured via spectral subtraction)

- **Processing Code**: Available at GitHub repository (see Data Access section)

### 3. Spectrograms (post_processed/spectrograms/)
- **Generation Parameters**:
  - FFT size: 2048 points
  - Hop length: 512 samples
  - Window: Hann
  - Frequency range: 0-12 kHz
  - Color map: Viridis
  - dB scale: Reference = max amplitude

- **Tools**: Python librosa v0.10.1, matplotlib v3.8.2
- **Generation Script**: `create_woodcock_spectrogram.py` (template for all spectrograms)

## Compilation Instructions

### Requirements
```bash
# LaTeX distribution (TeX Live 2024+ recommended)
sudo apt install texlive-full  # Ubuntu/Debian
brew install texlive          # macOS

# Required LaTeX packages (included in texlive-full):
# - graphicx, amsmath, booktabs, hyperref, geometry
# - natbib, fancyhdr, abstract, authblk, multicol
# - float, caption, subcaption
```

### Compile Steps
```bash
cd latex_paper/

# First pass: Generate aux files
pdflatex gaulossen_paper.tex

# Second pass: Process bibliography (if using external .bib file)
bibtex gaulossen_paper

# Third pass: Resolve references
pdflatex gaulossen_paper.tex

# Fourth pass: Finalize cross-references
pdflatex gaulossen_paper.tex

# Output: gaulossen_paper.pdf (13-15 pages, ~2-4 MB)
```

## Audio File Specifications

### Pre-processed (Original BirdNET Detections)
- **Format**: WAV
- **Sample Rate**: 48,000 Hz
- **Bit Depth**: 16-bit signed integer
- **Channels**: Mono
- **Duration**: 3 seconds per clip (BirdNET default window)
- **Dynamic Range**: Typical 40-60 dB SPL (varies by species/distance)

### Post-processed (Enhanced)
- **Same specifications as pre-processed**
- **Additional Metadata**: SNR improvement, processing timestamp
- **Quality Metrics**: Calculated via metrics-mcp service

## Reference Dataset Information

### Full Dataset (Not Included - Available on GitHub)
- **Total Recordings**: 4 master files (12-14 hours each)
- **Total Size**: 35.2 GB uncompressed WAV
- **BirdNET Detections**: 4,108 initial detections → 4,085 verified (85.6% pass rate)
- **Species Verified**: 77 species (5 rejected: Lesser Spotted Woodpecker, Storm-Petrel, Shearwater, Capercaillie, Bar-headed Goose)

### Reproducibility Notes
- **Random Seed**: Not applicable (deterministic BirdNET inference)
- **BirdNET Version**: v2.4 (critical - results vary between versions)
- **Operating System**: macOS 14.x / Ubuntu 22.04 LTS (tested)
- **Python Version**: 3.10.12
- **Dependencies**: See requirements.txt in GitHub repository

## Data Access

- **Interactive Website**: https://ziforge.github.io/gaulosen-study/
- **GitHub Repository**: https://github.com/Ziforge/gaulosen-study
- **Praven Pro Toolkit**: https://github.com/Ziforge/praven-pro
- **Contact**: George Redpath, NTNU Department of Acoustics

## Citation

If using this dataset or code, please cite:

```
Redpath, G. (2025). Automated Acoustic Monitoring of Avian Biodiversity
at Gaulosen Nature Reserve: A BirdNET-Based Assessment of 77 Species
During Autumn Migration. Norwegian University of Science and Technology (NTNU),
Department of Acoustics, Trondheim, Norway.
```

## License

- **LaTeX Source**: CC BY 4.0
- **Audio Data**: CC BY-NC 4.0 (Non-commercial use only)
- **Code**: MIT License (see repository)
- **Field Photos**: CC BY 4.0

---

**Generated**: October 2025
**Author**: George Redpath
**Institution**: NTNU Department of Acoustics, Trondheim, Norway
